#!/bin/bash
USAGE="usage: ./bin"

 awk    'BEGIN{Enter}
	 {
	 if($1=="pushl" || $1 == "popl") 
	print "00001000001000000000000001000001"> "out.txt";		
	else if($1=="call" && $2 == "printf") 
	print "00001100000000000000000000000000"> "out.txt";
	else if($1=="call" && $2=="__isoc99_scanf") print  "00010000000000000000000000000000" > "out.txt";
	else if($1=="cmpl") print "00010100010000110001101010100010" > "out.txt";
	else if($1==".string" && $2=="\"%d\"") print "00100100000000000000000000000001" > "out.txt";	 
	else if($1==".string" && $2=="\"The") print "00100100000000000000000000000010" > "out.txt";
	else if($1==".type" ) print "00100100000000000000000000000011" > "out.txt";
	else if($1=="movl" && $2=="%esp," ) print "00101000000000000000000000001000" > "out.txt";
	else if($1=="subl" && $2=="$32," ) print "00101000000000000000000000001001" > "out.txt";
	else if($1=="leal" ) print "00100000001000110001100000000000" > "out.txt";
	else if($1 == "jmp") print "00011000000000000000000000011000"> "out.txt";
	 else if($1 == "jle") print "00011100001000000000000000010011" >"out.txt";
	else if($2 == "$.LC1," || $3 == "%ecx" || $2=="%edx," || $2=="$.LC0,"|| ($2=="%eax," && $3=="(%esp)")) print "00101000000000000000000000000000" >"out.txt";
	else if($1 == "movl" && $2 == "$1," && $3 == "24(%esp)") print "00000100001000010000100010100100"> "out.txt";
	else if($1 == "movl" && $2 == "$1," && $3 == "20(%esp)") print "00000100001000110001100010100100"> "out.txt";
	else if($1 == "movl" && $2 == "24(%esp)," && $3 == "%eax") print "00001000001000000000000001000001"> "out.txt";
	else if($1 == "movl" && $2 == "%eax," && $3 == "24(%esp)") print "00000100010000010000101010100100"> "out.txt";
	else if($1 == "imull" && $2 == "20(%esp)," && $3 == "%eax") print "00000100011000100001010001100011"> "out.txt";
	else if($1 == "addl" && $2 == "$1," && $3 == "20(%esp)") print "00000100001000110001100010100000"> "out.txt";
	
	else if($1 == "movl" && $2 == "28(%esp)," && $3 == "%eax") print "00000100010000100001010001100100"> "out.txt";		
 	else print "00000000000000000000000000000000" > "out.txt";}
   END{end}' fact.s
